\documentclass[a4paper]{article}

\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{ascmac}
\usepackage{CJKutf8}
\usepackage{cleveref}
\usepackage{float}
\usepackage{geometry}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{mathtools}
\usepackage{MnSymbol}
\usepackage{physics}
\usepackage{siunitx}
\usepackage{xcolor}

\definecolor{cA}{HTML}{0072BD}
\definecolor{cB}{HTML}{EDB120}
\definecolor{cC}{HTML}{77AC30}
\definecolor{cD}{HTML}{D95319}

\newcommand{\tA}[1]{\textcolor{cA}{#1}}
\newcommand{\tB}[1]{\textcolor{cB}{#1}}
\newcommand{\tC}[1]{\textcolor{cC}{#1}}
\newcommand{\tD}[1]{\textcolor{cD}{#1}}

\newtheorem{theorem}{Theorem}
\crefname{theorem}{Thm.}{Thms.}

\setlength{\parindent}{0pt}

\DeclareMathOperator{\infConv}{\Box}

% \sample_command for LLBracketMissing

\begin{document}

\title{Sample document}
\author{hari64boli64}
\date{\today}
\maketitle

\section{LLAlignAnd}

\begin{table}[H]
	\centering
	\begin{tabular}{lll}
		\verb|&=|        &
		$\begin{aligned}
				 a & = b \\
				 c & = d
			 \end{aligned}$ &
		\tA{ok}            \\[0.3cm]
		\verb|=&|        &
		$\begin{aligned}
				 a = & b \\
				 c = & d
			 \end{aligned}$ &
		\tD{ng}            \\[0.3cm]
		\verb|={}&|      &
		$\begin{aligned}
				 a = {} & b \\
				 c = {} & d
			 \end{aligned}$ &
		\tA{ok}
	\end{tabular}
\end{table}

\begin{center}
	\begin{minipage}{.1\columnwidth}
		\begin{align*}
			x
			=
			 &
			y
			\\
			x
			\neq
			 &
			y
		\end{align*}
	\end{minipage}%
	\begin{minipage}{.1\columnwidth}
		\begin{equation*}
			\begin{split}
				x \leq & y \\
				x \geq & y
			\end{split}
		\end{equation*}
	\end{minipage}%
	\begin{minipage}{.1\columnwidth}
		\begin{align*}
			x \le & y \\
			x \ge & y
		\end{align*}
	\end{minipage}%
	\begin{minipage}{.1\columnwidth}
		\begin{align*}
			x < & y \\
			x > & y
		\end{align*}
	\end{minipage}
\end{center}

\begin{verbatim}
	a =& b
\end{verbatim}

\section{LLAlignEnd}

The following ends with a line break.
\begin{gather*}
	f(x) = ax^2 + bx + c \\
	g(x) = dx^2 + ex + f \\
\end{gather*}
The following does not end with a line break.
\begin{align*}
	f(x) & = ax^2 + bx + c \\
	g(x) & = dx^2 + ex + f
\end{align*}
Here is the next line after the align environment.

\section{LLAlignSingleLine}

\begin{itembox}{\large Long line before display (same result)}
	\begin{minipage}[t]{.5\columnwidth}
		Lorem ipsum.
		\begin{equation*}
			f(x) = ax^2 + bx + c
		\end{equation*}
		This is an \tA{equation} environment.
	\end{minipage}%
	\begin{minipage}[t]{.5\columnwidth}
		Lorem ipsum.
		\begin{align*}
			f(x) & = ax^2 + bx + c
		\end{align*}
		This is an \tD{align} environment.
	\end{minipage}
\end{itembox}

\vspace{\baselineskip}

\begin{itembox}{\large Short line before display (different result)}
	\begin{minipage}[t]{.5\columnwidth}
		Lrm:
		\begin{equation*}
			f(x) = ax^2 + bx + c
		\end{equation*}
		This is an \tA{equation} environment.
	\end{minipage}%
	\begin{minipage}[t]{.5\columnwidth}
		Lrm:
		\begin{align*}
			f(x) & = ax^2 + bx + c
		\end{align*}
		This is an \tD{align} environment.
	\end{minipage}
\end{itembox}

\vspace{\baselineskip}

Single-line alignat environment is also detected.
\begin{alignat*}{1}
	f(x) & = ax^2 + bx + c
\end{alignat*}

Multi-line alignat environment is not detected.
\begin{alignat*}{2}
	f(x) & = ax^2 + bx + c \\
	g(x) & = dx^2 + ex + f
\end{alignat*}

% Comment in the following lines should be ignored.
% \begin{align}
% \begin{align}
% \begin{align}

\section{LLArticle}

A $n$-dimensional space. An $n$-dimensional space.

\section{LLBig}

This is a sample text.
This is a sample text.
This is a sample text.\\
Both
bigcup $\bigcup_{x \in B} O_x$ and
cup $\cup_{x \in B} O_x$ do not spoil the line spacing.\\
This is a sample text.
This is a sample text.
This is a sample text.
\begin{gather*}
	X_1 \cap X_2 \quad
	X_1 \cup X_2 \quad
	X_1 \odot X_2 \quad
	X_1 \oplus X_2 \quad
	X_1 \otimes X_2 \\
	X_1 \sqcup X_2 \quad
	X_1 \uplus X_2 \quad
	X_1 \vee X_2 \quad
	X_1 \wedge X_2 \quad
	\text{\tA{ok}} \\
	\bigcap_{i=1}^{\infty} X_i \quad
	\bigcup_{i=1}^{\infty} X_i \quad
	\bigodot_{i=1}^{\infty} X_i \quad
	\bigoplus_{i=1}^{\infty} X_i \quad
	\bigotimes_{i=1}^{\infty} X_i \quad
	\bigsqcup_{i=1}^{\infty} X_i \quad
	\biguplus_{i=1}^{\infty} X_i \quad
	\bigvee_{i=1}^{\infty} X_i \quad
	\bigwedge_{i=1}^{\infty} X_i \quad
	\text{\tA{ok}} \\
	\cap_{i=1}^{\infty} X_i \quad
	\cup_{i=1}^{\infty} X_i \quad
	\odot_{i=1}^{\infty} X_i \quad
	\oplus_{i=1}^{\infty} X_i \quad
	\otimes_{i=1}^{\infty} X_i \\
	\sqcup_{i=1}^{\infty} X_i \quad
	\uplus_{i=1}^{\infty} X_i \quad
	\vee_{i=1}^{\infty} X_i \quad
	\wedge_{i=1}^{\infty} X_i \quad
	\text{\tD{ng}}
\end{gather*}

\section{LLBracketCurly}

\begin{table}[h]
	\centering
	\begin{tabular}{lll}
		\verb|\max(a,b)|  & $\max(a,b)$  & \tA{ok}  \\
		\verb|\max{a,b}|  & $\max{a,b}$  & \tD{ng}  \\
		\verb|\max {a,b}| & $\max {a,b}$ & \tC{ok?}
	\end{tabular}
\end{table}

We cannot fully determine whether the use of curly brackets is wrong or not.
It is not detected if some spaces are inserted between the command name and the curly brackets.

$\min(a,b)$ and $\min{a,b}$ are also checked.

\section{LLBracketMissing}

\begin{table}[H]
	\centering
	\begin{tabular}{lll}
		\verb|x^{23}| & $x^{23}$ & \tA{ok} \\
		\verb|x^2 3|  & $x^2 3$  & \tA{ok} \\
		\verb|x^23|   & $x^23$   & \tD{ng} \\
	\end{tabular}
\end{table}

$x_23$, $x^ab$ and $x_ab$ are also checked.
Cases like $x^a b$, $x^2\;$ and $e^i\pi$ are not detected.

\begin{verbatim}
escaped underscore: \_123
https://sample_url.com
\includegraphics{sample_link.png}
\includegraphics{sample_link.pdf}
\label{sample_label}
\cref{sample_label}
\eqref{sample_label}
\cite{sample_label}
\Cref{sec:FR_ForceModel}
% _12 comment
\end{verbatim}


\section{LLBracketRound}

\begin{table}[h]
	\centering
	\begin{tabular}{lll}
		\verb|\sqrt{a}| & $\sqrt{a}$ & \tA{ok} \\
		\verb|\sqrt(a)| & $\sqrt(a)$ & \tD{ng} \\
	\end{tabular}
\end{table}

$a^(1)$ and $a_(1)$ are also checked.

% \includegraphics{sample_(1).png}
% \label{eq:f(x_(k+1))<=m(x_(k+1))<=m(x_k)=f(x_k)}

\section{LLColonEqq}

\begin{table}[H]
	\centering
	\begin{tabular}{lll}
		\verb|\coloneqq| & $x\coloneqq y$ & \tA{ok} \\
		\verb|\Coloneqq| & $x\Coloneqq y$ & \tA{ok} \\
		\verb|:=|        & $x:= y$        & \tD{ng} \\
		\verb|::=|       & $x::= y$       & \tD{ng}
	\end{tabular}
\end{table}

The difference is quite subtle, but the vertical position of the colon is different.
% $\Coloneqq, \Eqqcolon, \coloneqq, \eqqcolon$

\section{LLColonForMapping}

\begin{table}[H]
	\centering
	\begin{tabular}{lll}
		\verb|A:B|       & $A:B$                               & \tA{ok} \\
		\verb|A\colon B| & $A\colon B$                         & \tD{ng} \\
		\verb|f:|        & $f:\mathbb{R} \to \mathbb{R}$       & \tD{ng} \\
		\verb|f\colon|   & $f\colon \mathbb{R} \to \mathbb{R}$ & \tA{ok}
	\end{tabular}
\end{table}

\begin{itembox}{We detect all of : in the following}
	Here are examples of colons we detect.
	\begin{itemize}
		\item $f:X \to Y$
		\item \( g: X \mapsto Y \)
		\item $h : \mathbb{R}^{n^2 + 2n + 1} \rightarrow \mathbb{R}$
	\end{itemize}
	and
	\begin{equation} \label{eq:sample}
		f:
		(X \text{ at new line in tex file})
		\to
		(Y \text{ at new line in tex file}).
	\end{equation}
\end{itembox}

\vspace{\baselineskip}

\begin{itembox}{We do NOT detect any of : in the following}
	Here are examples of `:' we do not detect.
	\begin{itemize}
		\item $f\colon X \to Y$, the correct use of $\backslash$colon.
		\item $A:B:C = 1:2:3$, the colon for ratio.
		\item $A:B = 1:2$ and $X \to Y$, separated by dollar sign.
		\item $g: (\text{some very very very very very long long long long words}) \to \mathbb{R}$, the false negative.
	\end{itemize}
\end{itembox}

% The following contains colon:
% $f: X \to Y$
% The following contains colon:
% \( f: X \to Y \)
% The following contains colon:
% \begin{equation} f: X \to Y \end{equation}
% \label{eq:test} f: X_{\test{}} \to Y
% \label{eq:test} \lim_{k \to \infty}

\section{LLCref}

\begin{theorem}\label{thm:sample}
	This is a sample theorem.
\end{theorem}

Use \cref{thm:sample} with cref instead of Thm. \ref{thm:sample} with ref to avoid mistakes.

\section{LLDoubleQuotes}

Use ``XXX'' instead of “XXX” or "XXX".
You can use them for \verb|H\"older| and \verb"\verb".

% You can also use “XXX” and "XXX" in the comment.

\section{LLENDash}

\begin{table}[H]
	\centering
	\begin{tabular}{ll}
		\verb|hyphen (-)|    & A-B   \\
		\verb|en-dash (--)|  & A--B  \\
		\verb|em-dash (---)| & A---B
	\end{tabular}
\end{table}

\begin{itemize}
	\item Erdos-Renyi (random graph, Erd\H{o}s--R\'enyi)
	\item Einstein-Podolsky-Rosen (quantum physics, Einstein--Podolsky--Rosen)
	\item Fruchterman-Reingold (graph drawing, Fruchterman--Reingold)
	\item Gauss-Legendre (numerical integration, Gauss--Legendre)
	\item Gibbs-Helmholtz (thermodynamics, Gibbs--Helmholtz)
	\item Karush-Kuhn-Tucker (optimization, Karush--Kuhn--Tucker)
\end{itemize}

Exceptions: Non-Negative,  Well-Known, etc.

% \cref{Sample-Label}
% https:Test-Name

\section{LLEqnarray}

We should not use eqnarray. It has some spacing issues.

\begin{eqnarray*}
	x & = & y \\
	a & = & b
\end{eqnarray*}

\section{LLFootnote}

When we use footnotes in a new line.
\footnote{This is a footnote.}
The footnote marker position is incorrect.

When we added a percentage sign.%
\footnote{This is a footnote.}
The footnote marker position is correct.

\section{LLJapanese}

\begin{CJK}{UTF8}{ipxm}
	日本語の文章で$x=1$と数式を書くと、スペースが欠如します。

	日本語の文章で $x=1$ と数式を書くと、スペースが生まれます。

	尤も、フォーマルな文章では非推奨な場合も多く、その為デフォルトでは非検出です。
\end{CJK}

\section{LLLlGg}

\begin{table}[H]
	\centering
	\begin{tabular}{lll}
		\verb|\ll| & $n\ll m$ & \tA{ok} \\
		\verb|<<|  & $n << m$ & \tD{ng} \\
	\end{tabular}
\end{table}

I like human $<<<$ cat $<<<<<<<$ dog.

\section{LLNonASCII}

The following line contains non-ASCII characters.

\begin{CJK}{UTF8}{ipxm}{　} ！ ＂ ＃ ＄ ％ ＆ ＇ （ ） ＊ ＋ － ／\end{CJK}

\vspace{\baselineskip}

\begin{CJK}{UTF8}{ipxm}日本語の文章は、upLaTeXでフツウに書けます。\end{CJK}

(You can write Japanese sentences as usual with upLaTeX.)

\section{LLPeriod}

\begin{table}[H]
	\centering
	\begin{tabular}{lll}
		\verb|e.g., test.| & e.g., test. & \tA{ok} \\
		\verb|e.g.\ test.| & e.g.\ test. & \tA{ok} \\
		\verb|e.g. test.|  & e.g. test.  & \tD{ng} \\
	\end{tabular}
\end{table}

\section{LLRefEq}

To refer to the equation, use~\eqref{eq:sample} with eqref instead of (\ref{eq:sample}) with ref.

You can avoid the mistake of forgetting to add parentheses.

\section{LLSharp}

\begin{table}[H]
	\centering
	\begin{tabular}{lll}
		\verb|\#|     & $\#A$      & \tA{ok} \\
		\verb|\sharp| & $\sharp A$ & \tD{ng}
	\end{tabular}
\end{table}

If you really want to use $\sharp$, you can disable this rule.

\section{LLSI}

\begin{table}[H]
	\centering
	\begin{tabular}{lll}
		\verb|\SI{1}{\kilo\byte}| & \SI{1}{\kilo\byte} & \tA{ok} \\
		\verb|1 kB|               & 1 kB               & \tD{ng} \\
		\verb|1kB|                & 1kB                & \tD{ng} \\
	\end{tabular}
\end{table}

\newcommand{\EB}{Some command named as EB}

10KB, $3.5$ MiB, $500 \mathrm{GB}$ are detected. 123 noNumWord GB will not be detected.

\EB. This is not ExaByte. This 1EB is one ExaByte.
% We also must not detect this: 1\EB 1\testEB 1 \testEB 1 AEB

\section{LLT}

\begin{table}[H]
	\centering
	\begin{tabular}{lll}
		\verb|^\top|         & $X^\top$         & \tA{ok}  \\
		\verb|^{\mathsf{T}}| & $X^{\mathsf{T}}$ & \tA{ok}  \\
		\verb|^T|            & $X^T$            & \tD{ng}  \\
		\verb|^{T}|          & $X^{T}$          & \tC{ok?} \\
	\end{tabular}
\end{table}

\section{LLThousands}

\begin{table}[H]
	\centering
	\begin{tabular}{lll}
		\verb|1,000|     & 1,000     & \tA{ok} \\
		\verb|$1{,}000$| & $1{,}000$ & \tA{ok} \\
		\verb|$1,000$|   & $1,000$   & \tD{ng} \\
	\end{tabular}
\end{table}

\section{LLTitle}

\subsection{
	This Is a Correct Title
}

\subsubsection{this is a wrong title}

\paragraph{The quick brown fox jumps over the lazy dog}

\subparagraph{SubParagraph: Test With Ref~\ref{thm:sample}}

\subsection{IGNORE IF ALL UPPERCASE}

\subsection{Math Contains version $x$}

\section{LLUserDefined}

You can define your own rule.

\begin{table}[H]
	\centering
	\begin{tabular}{lll}
		\verb|f^\mathrm{a}(x)| & $f^{\mathrm{a}}(x)$ & \tA{ok} \\
		\verb|f^a(x)|          & $f^a(x)$            & \tD{ng} \\
	\end{tabular}
\end{table}

\begin{table}[H]
	\centering
	\begin{tabular}{lll}
		\verb|f \infConv g| & $f \infConv g$ & \tA{ok} \\
		\verb|f \Box g|     & $f \Box g$     & \tD{ng} \\
	\end{tabular}
\end{table}

\newpage
\appendix

\renewcommand\thesection{Appendix \Alph{section}}

\section{Bugs}

ToDo: Fix This.

\begin{verbatim}
	"double quotes in verbatim"
\end{verbatim}

\begin{lstlisting}
def test():
	S = "double quotes in listing"
\end{lstlisting}

\section{LLSetBar}

Detecting inappropriate use of the vertical bar $|$ is very difficult.
We are currently trying to detect the following, although not implemented yet.

\begin{table}[H]
	\centering
	\begin{tabular}{lll}
		\verb#\lvert -1 \rvert# & $\lvert -1 \rvert$ & \tA{ok} \\
		\verb#\abs{-1}#         & $\abs{-1}$         & \tA{ok} \\
		\verb#\vert -1 \vert#   & $\vert -1 \vert$   & \tD{ng} \\
		\verb#|-1|#             & $|-1|$             & \tD{ng} \\
	\end{tabular}
\end{table}

% https://tex.stackexchange.com/questions/510751/use-big-vert-fx-big-vert-or-big-lvert-fx-big-rvert-or-bigl-lvert-f

\begin{table}[H]
	\centering
	\begin{tabular}{lll}
		\verb#\lVert -x \rVert# & $\lVert -x \rVert$ & \tA{ok} \\
		\verb#\norm{-x}#        & $\norm{-x}$        & \tA{ok} \\
		\verb#\Vert -x \Vert#   & $\Vert -x \Vert$   & \tD{ng} \\
		\verb#||-x||#           & $||-x||$           & \tD{ng} \\
	\end{tabular}
\end{table}

\begin{table}[H]
	\centering
	\begin{tabular}{lll}
		\verb#\relmiddle|# (macro) & $\displaystyle{\left\{ a \mathrel{}\middle|\mathrel{} a>\frac{1}{2} \right\}}$ & \tA{ok}  \\
		\verb#\mid#                & $\displaystyle{\{ a \mid a>\frac{1}{2} \}}$                                    & \tC{ok?} \\
		\verb#|#                   & $\displaystyle{\{ a | a>\frac{1}{2} \}}$                                       & \tD{ng}
	\end{tabular}
\end{table}

\begin{table}[H]
	\centering
	\begin{tabular}{lll}
		\verb#\divides# (MnSymbol) & $+2 \divides +4$  & \tA{ok}  \\
		\verb#\mid#                & $+2 \mid +4$      & \tC{ok?} \\
		\verb#\mathrel|#           & $+2 \mathrel| +4$ & \tC{ok?} \\
		\verb#\vert#               & $+2 \vert +4$     & \tD{ng}  \\
		\verb#|#                   & $+2 | +4$         & \tD{ng}  \\
	\end{tabular}
\end{table}

\begin{table}[H]
	\centering
	\begin{tabular}{lll}
		\verb#f(y|x)#                           & $f(y|x)$                           & \tC{ok?} \\
		\verb#f(y \mid x)#                      & $f(y \mid x)$                      & \tC{ok?} \\
		\verb#f(\,y\mid x\,)#                   & $f(\,y\mid x\,)$                   & \tC{ok?} \\
		\verb#\left. \dv{t} \right|_{t=0} f(t)# & $\left. \dv{t} \right|_{t=0} f(t)$ & \tC{ok?} \\
	\end{tabular}
\end{table}

% https://www.physicsforums.com/threads/how-i-can-use-a-vertical-bar-to-represent-evaluation-in-latex.229408/
% https://tex.stackexchange.com/questions/5502/how-to-get-a-mid-binary-relation-that-grows
% https://tex.stackexchange.com/questions/498/mid-vertical-bar-vert-lvert-rvert-divides

\end{document}
